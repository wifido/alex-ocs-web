/*! ocs-web 2016-08-11 */
define(["angular"],function(a){"use strict";return a.module("appBizs.systemBizs",[]).factory("promiseService",["$http","$q","$cookies","$base64","SystemConfig",function(a,b,c,d,e){return{getPromise:function(f,g,h){var i=b.defer(),j=g;return h=h&&"GET"==h?"GET":"POST",a({method:h,url:e.ocs_url+f,data:"POST"==h?j:"",params:"GET"==h?j:"",headers:{"ocs-client-id":"O2O-Business-Web","x-up-Authorization":"B-Token "+d.encode(c.get("B-token"))},timeout:1e4}).success(function(a){i.resolve(a)}).error(function(a,b){i.reject({type:"warning",text:"网络异常",data:a,config:b})}),i.promise}}}]).factory("CacheBiz",[function(b,c){return{getCache:function(b){var c=window.sessionStorage[b];return c?a.fromJson(c):null},setCache:function(b,c){window.sessionStorage[b]=a.toJson(c)},removeCache:function(a){window.sessionStorage.removeItem(a)}}}])});